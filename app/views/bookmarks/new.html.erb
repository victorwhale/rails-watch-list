<div class="container mt-4">
  <h1>Add a movie to <%= @list.name %></h1>

  <%= form_with model: [@list, @bookmark], class: "mt-4" do |f| %>
    <div class="mb-3">
      <%= f.label :movie_id, "Select a movie", class: "form-label" %>
      <%= f.collection_select :movie_id, @movies, :id, :title, { prompt: "Choose a movie" }, { class: "form-select" } %>
      <% if @bookmark.errors[:movie_id].any? %>
        <div class="text-danger"><%= @bookmark.errors[:movie_id].join(", ") %></div>
      <% end %>
      <% if @bookmark.errors[:movie].any? %>
        <div class="text-danger"><%= @bookmark.errors[:movie].join(", ") %></div>
      <% end %>
    </div>

    <div class="mb-3">
      <%= f.label :comment, class: "form-label" %>
      <%= f.text_area :comment, class: "form-control", rows: 3, placeholder: "Add a comment about this movie (min. 6 characters)" %>
      <% if @bookmark.errors[:comment].any? %>
        <div class="text-danger"><%= @bookmark.errors[:comment].join(", ") %></div>
      <% end %>
    </div>

    <div class="d-flex gap-2">
      <%= f.submit "Add movie", class: "btn btn-primary" %>
      <%= link_to "Back", list_path(@list), class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>
